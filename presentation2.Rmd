---
title: "RMarkdown and Version Control with git"
author: "Lukas Schmid, Chân Lê"
date: "17 1 2020"
output: html_document
---

# __Introduction to R Markdown__

------

### __1. General__
RMarkdown can be used to save and execute codes, as well as generate high-quality reports to be shared with the audience.


### __2. Installation__

#### __a. Prerequisite__
Make sure that you have the __latest version of R and RStudio__. It was not officially mentioned on the RMarkdown official guide, but I did run into troubles trying to install RMarkdown without knowing that some conflicts could exist if you were not to get R in your computer updated.


#### __b. Install RMarkdown__
Next you can install RMarkdown package in R:

```{r eval = F}
# Install from CRAN
install.packages('rmarkdown')

# Or if you want to test the development version,
# install from GitHub
if (!requireNamespace("devtools"))
  install.packages('devtools')
devtools::install_github('rstudio/rmarkdown')
```


#### __c. LaTeX for PDF output__
If you want to generate PDF output, you will need to install LaTeX. For R Markdown users who have not installed LaTeX before, you can install TinyTeX (https://yihui.name/tinytex/):

```{r eval = F}
install.packages("tinytex")
tinytex::install_tinytex()  # install TinyTeX
```


### __3. Basics__

#### __a. Text formating__

Write normally for plain text

> Highlight some chunk of text or blockquotes with the greater-than sign

Write in italics using *single asterisks* or _single underscores_

Wrie in bold using **double asterisks** or __double underscore__

You can have different sizes of header with the number sign #:

# Header 1   
## Header 2   
### Header 3   
#### Header 4   
##### Header 5   
###### Header 6

Alternatively, for H1 and H2, an underline-ish style:

### Alt-H2

------

Inline code blocks are highlighted using back-ticks, for example the package `ggplot2`


* You can create bullet points by setting an asterisk, just remember **the space between the asterisk and your text**:
  + Then add first sub-point with a plus sign
  + Another sub-point
    - Then a sub-sub-point using minus sign
    

1. You can create numbered list with, well, numbers.
2. Something something
   i) A sub-point (with three spaces at the beginning, to get the indentation)
   ii) Yet another sub-point


#### __b. Chunk code & Chunk options__

If you want to execute your code in RMarkdown, put them into the following code chunk brackets ( __or press Ctrl + ALt + I__ ). The codes are displayed in a gray box, while the outputs are in a white box. For example:

```{r}
  library(tidyr)
  library(ggplot2)
  paste("Welcome","to","RMarkDown!")
  data <- iris
  data.plot <- data %>% pivot_longer(-Species, names_to = "Measurement", values_to = "Value")
  ggplot(data.plot, aes(group = Measurement, x = Measurement, y = Value)) + 
    geom_boxplot() +
    facet_grid(. ~ Species) +
    theme(axis.text.x = element_text(angle = 45, hjust = 1))
  lm.model <- lm(Petal.Length ~ Sepal.Length + Sepal.Width + Petal.Width, data = data)
  summary(lm.model)
```

Try not to crowd your code chunk like that. Instead of that, divide your work into smaller steps so you can comment on them easily.

On this second attempt, we you should you some essential code chunk options to make your report more clear and concise.

* First, I want to call some needed packages. If you want to __run these codes but not include them in the report__, type in chunk option `include = FALSE`

```{r include = FALSE}
library(tidyr)
library(ggplot2)
```

> #####The code ran but nothing appeared

* If you only want to show some __codes without running them__, type in chunk option `eval = FALSE`

```{r eval = FALSE}
  paste("Welcome","to","RMarkDown!")
```

* On the other hand, if you want to show some results without the codes, type in chunk option `echo = FALSE`

```{r echo = FALSE}
  paste("Welcome","to","RMarkDown!")
```

* Now I can load the data and view it.

```{r}
  data <- iris
  head(data)
```

* The next step is to transform it into long-format for the plotting:

```{r}
  data.plot <- data %>% pivot_longer(-Species, names_to = "Measurement", values_to = "Value")
  head(data.plot)
```

* Now I plot it. Multiple bar plots showing the distribution of different measurements of the iris flowers, facetting among different species. To align this plot in the middle, add chunk option `algin = center` (others options including `left` and `right`). To resize the plot, add chunk option `fig.width` and `fig.height` with chosen values (in inches). Chunk option `fig.cap` is used to insert a string caption below the graph.

```{r fig.align="center", fig.height= 5, fig.width= 7, fig.cap = "Figure 1: possible caption for the graph"}
  ggplot(data.plot, aes(group = Measurement, x = Measurement, y = Value)) + 
    geom_boxplot() +
    facet_grid(. ~ Species) +
    theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

#### __c. Tables in RMarkdown using `knitr` and `kableExtra`__

As a default, you can always show a data set by just calling it directly. The dataset is shorten for the purpose of demonstration.

```{r}
  data <- head(data, 10)
  data
```

There is another alternative to displaying a data set, or broadly speaking, a table. With `knitr` and `kableExtra`

```{r}
  #install.packages(knitr)
  # install.packages("kableExtra")
  library(knitr)
  library(kableExtra)
  head(data) %>% 
    kable() %>% 
    kable_styling() %>%
    column_spec(1:2, bold = T, color = "white", background = "blue") %>% 
    row_spec(3:5, bold = T, color = "white", background = "blue")
  
```

A (newer version)cheatsheet of can be found here: https://github.com/rstudio/cheatsheets/raw/master/rmarkdown-2.0.pdf



### text formatting

### chunk options for code
### visualisation formatting
### table and reporting formatting
### document types and presentations)


# version control with git
## general principle
## GUI "GitKraken"
## usage from within RStudio
this is Lukas' Text


##hello from Chan

Lukas Schmid  vor 18 Minuten